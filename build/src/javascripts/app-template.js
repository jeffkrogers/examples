"use strict";var featureUrls={custom_colors:"https://reflect.io/docs/platform/embedding#Customcolors",filters:"https://reflect.io/docs/platform/embedding#Filters",parameters:"https://reflect.io/docs/platform/authentication#Parameterizedviews",formatters:"https://reflect.io/docs/platform/embedding#Formatters",interactions:"https://reflect.io/docs/platform/embedding#Interactions",custom_controls:"https://reflect.io/docs/platform/embedding#CustomizingyourReflectviews",custom_components:"https://reflect.io/docs/platform/embedding#Customcomponenttypes",dates:"https://reflect.io/docs/platform/embedding#Dateranges"};$(function(){var e=window.location.pathname.slice(0,-1),t=e.substring(e.lastIndexOf("/")+1,e.length);$.get("../src/json/examples.json",function(e){function a(){$(window).width()<=799?($(".defaultTitle").removeClass("hidden"),$(".navTitle").addClass("hidden")):($(".defaultTitle").addClass("hidden"),$(".navTitle").removeClass("hidden"))}var s,n=e.find(function(e,a){return s=a,e.category===t}),r=s>0?e[s-1]:e[e.length-1],o=e.length>s+1?e[s+1]:e[0];"top-influencers"===r.category?r=s>0?e[s-2]:e[e.length-2]:"top-influencers"===o.category&&(o=e.length>s+2?e[s+2]:e[0]);var l;if("top-influencers"===n.category&&location.search.substr(1)){l=location.search.substr(1).match(/[^&]*/)[0].replace(/%20/g," ")+"'s "+n.category.replace(/-/g," ")}else l=n.category.replace(/-/g," "),l=l.substr(0,1).toUpperCase()+l.substr(1);$("#app-title").text(l+" / Reflect");var i=[];n.features.forEach(function(e){var t=e.split(" ").join("_"),a=featureUrls[t];i.push('<a target="_blank" class="feature '+t+'" href="'+a+'">'+e+"</a>")}),i=i.sort().join("");var c,d=n.dataset;c="default"===d?"<p>Default sample connection</p>":"klout"===d?"<p>Klout API</p>":'<a id="dataset-download" href="https://cdn.reflect.io/datasets/'+d+'">'+d+"</a>",$("#app-instruction").html('\n      <small class="instruction"><strong>1</strong> '+n.mainGoal+'</small><br>\n      <hr><small class="instruction"><strong>2</strong> '+n.secondaryGoal+"</small>\n    ");var p=$("#app-header"),f="https://github.com/reflect/examples/blob/master/apps/"+n.category+"/"+n.name+".html";p.append('\n      <a id="github-header" target="_blank" class="fork-me desktop-only" href="'+f+'">View on GitHub</a>\n      <div class="lead">\n        <h1 class="title">'+l+"</h1>\n        <h2>"+n.description+'</h2>\n      </div>\n      <div class="resources desktop-only">\n        <div class="features">\n          <h6>Features</h6>\n          '+i+'\n        </div>\n        <div class="dataset">\n          <h6>Dataset</h6>\n          '+c+"\n        </div>\n      </div>\n    ");var h=$("#app-navigation"),g=r.category.replace(/-/g," "),m=o.category.replace(/-/g," ");h.html('\n      <a class="prev" href="../'+r.category+'">\n        <strong>&#10094</strong>\n        <span class="navTitle">'+g+'</span>\n        <span class="defaultTitle hidden">Previous</span>\n      </a>\n      <a class="next" href="../'+o.category+'">\n        <span class="navTitle">'+m+'</span>\n        <span class="defaultTitle hidden">Next</span>\n        <strong>&#10095</strong>\n      </a>\n    '),a(),$(window).on("resize",function(){a()}),$("#app-footer").html('\n      <div class="footer">\n        <div class="link-list">\n          <p class="desktop-only">\n            View the <a id="github-footer" target="_blank" href="'+f+'">code</a>  on GitHub,\n            <a target="_blank" href="https://app.reflect.io/register">create</a>  an account,\n            or <a target="_blank" href="https://reflect.io">visit</a>  the Reflect website\n          </p>\n          <a class="mobile-only" target="_blank" href="https://app.reflect.io/register">Join Reflect</a>\n          <a class="mobile-only" target="_blank" href="https://reflect.io">Learn more</a>\n        </div>\n      </div>\n    ');var u=document.getElementById("dataset-download");analytics.trackLink(u,"Dataset downloaded",{example:n.name,category:n.category,dataset:n.dataset});var v=document.getElementById("github-footer");analytics.trackLink(v,"GitHub visited",{example:n.name,category:n.category,features:n.features,location:"footer"});var b=document.getElementById("github-header");analytics.trackLink(b,"GitHub visited",{example:n.name,category:n.category,features:n.features,location:"header"})})});